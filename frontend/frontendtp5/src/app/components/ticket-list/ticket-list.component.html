<div class="container-fluid">
   <div class="container m-auto">

      <div class="row menu-container shadow-lg">


         <div class="col-12">
            <div class="opciones-container">
               <div class="opciones d-flex justify-content-between align-items-start">
                  <button (click)="irATicketForm()" for="cargaTransacciones" class="btn btn-dark btn-opciones">
                     Agregar
                  </button>
                  <form class="d-flex flex-row justify-content-evenly align-items-start">
                     <input (click)="obtenerTickets()" type="submit" for="cargaTickets" class="btn btn-dark btn-opciones me-3" value="Todo">
                     <input (click)="filtarTickets(categoriaEspectador)" type="submit" for="cargaTickets" class="btn btn-dark btn-opciones me-3" value="Filtrar">
                     <div class="d-flex flex-column align-items-start">
                        <select [(ngModel)]="categoriaEspectador" id="categoriaEspectador" class="form-select me-3" name="categoriaEspectador" required aria-describedby="emailHelp">
                           <option value="Local">Local</option>
                           <option value="Extranjero">Extranjero</option>
                        </select>
                        <div id="emailHelp" class="form-text text-center">Tipo Espectador</div>
                     </div>
                  </form>
               </div>
            </div>
         </div>


         <div class="col-12">
            <div class="row ticketsComprados-container">
               <div class="table-responsive">
                  <div class="col-12 lista-vacia">
                     <p>Lista de Tickets vendidos</p>
                  </div>
                  <table class="table tabla-tickets table-hover table align-middle">
                     <thead>
                        <tr>
                           <th scope="col">DNI:</th>
                           <th scope="col">Apellido:</th>
                           <th scope="col">Nombre:</th>
                           <th scope="col">Email:</th>
                           <th scope="col">Fecha:</th>
                           <th scope="col">Categoria:</th>
                           <th scope="col">Precio:</th>
                           <th scope="col">Acciones:</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr *ngFor="let t of tickets">
                           <td>{{t.espectador.dni}}</td>
                           <td>{{t.espectador.apellido}}</td>
                           <th class="fw-normal">{{t.espectador.nombre}}</th>
                           <td>{{t.espectador.email}}</td>
                           <td>{{t.fechaCompra | date:'dd/MM/yyyy'}}</td>
                           <td>{{t.categoriaEspectador}}</td>
                           <td>{{t.precioTicket | currency:'USD':'symbol'}}</td>
                           <td>
                              <button (click)="editarTicket(t._id)" class="btn btn-outline-secondary me-2"><i class="bi bi-pencil-fill"></i></button>
                              <button (click)="eliminarTicket(t.espectador, t)" class="btn btn-outline-danger"><i class="bi bi-trash3-fill"></i></button>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
         </div>
      </div>

   </div>
</div>